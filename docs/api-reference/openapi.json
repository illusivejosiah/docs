{
  "openapi": "3.0.1",
  "info": {
    "title": "Illusory API Reference",
    "description": "Interact with Illusory proxies",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://cmd.illusory.io"
    }
  ],
  "paths": {
    "/v1/proxies/{proxyName}": {
      "get": {
        "description": "Return a proxy associated with the specified `apiKey`",
        "parameters": [
          {
            "name": "proxyName",
            "in": "path",
            "description": "Replace `{proxyName}` in the url path with `YOUR_PROXY` to retrieve the details.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Server response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean",
                      "description": "Indicates whether the request was successful"
                    },
                    "data": {
                      "$ref": "#/components/schemas/proxy-get"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unexpected error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/proxies/{apiKey}": {
      "get": {
        "description": "Return a list of all proxies associated with the specified `apiKey`",
        "parameters": [
          {
            "name": "apiKey",
            "in": "path",
            "description": "Replace `{apiKey}` in the url path with `YOUR_API_KEY` to authenticate the request.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/proxy-list"
                }
              }
            }
          },
          "400": {
            "description": "Unexpected error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/v1/proxies/changeip/{apiKey}/{proxyName}": {
      "get": {
        "description": "Changes the external mobile IP of a proxy that target sites see.",
        "parameters": [
          {
            "name": "apiKey",
            "in": "path",
            "description": "Replace `{apiKey}` in the url path with `YOUR_API_KEY` to authenticate the request.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "proxyName",
            "in": "path",
            "description": "Replace `{proxyName}` in the url path with `YOUR_PROXY` to retrieve the details.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean",
                      "description": "Indicates whether the request was successful"
                    },
                    "data": {
                      "$ref": "#/components/schemas/proxy-get"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unexpected error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "proxy-get": {
        "type": "object",
        "properties": {
          "proxy_name": {
            "type": "string",
            "description": "Unique identifier of the proxy server",
            "example": "ILL-US-AU1-9999"
          },
          "nickname": {
            "type": "string",
            "description": "Optional nickname for the user or proxy.",
            "example": null,
            "nullable": true
          },
          "isp": {
            "type": "string",
            "description": "Name of the Internet Service Provider",
            "example": "Verizon"
          },
          "period": {
            "type": "string",
            "description": "Subscription period, e.g., `weekly`, `monthly`",
            "example": "weekly"
          },
          "auto_renew": {
            "type": "boolean",
            "description": "Indicates whether the expiration auto-renews",
            "example": false
          },
          "auto_renew_interval": {
            "type": "integer",
            "description": "The period interval for auto-renewal",
            "example": 1
          },
          "added_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of when the proxy was added",
            "example": "2023-12-04T17:43:16.407+00:00"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of when the proxy will expire",
            "example": "2023-12-14T23:23:09.792+00:00"
          },
          "network_status": {
            "type": "string",
            "description": "Current status of the network, e.g., `online`, `offline`, `rebooting`",
            "example": "online"
          },
          "server_ip": {
            "type": "string",
            "description": "IP address of the server",
            "example": "198.765.543.21"
          },
          "h_port": {
            "type": "integer",
            "description": "Port number for HTTP connections",
            "example": 12345
          },
          "s_port": {
            "type": "integer",
            "description": "Port number for SOCKS5 connections",
            "example": 67890
          },
          "auth_method": {
            "type": "string",
            "description": "Authentication method. `basic` or `whitelist`",
            "example": "basic"
          },
          "username": {
            "type": "string",
            "description": "Username for authentication",
            "example": "john"
          },
          "password": {
            "type": "string",
            "description": "Password for authentication",
            "example": "wick05"
          },
          "whitelist": {
            "type": "string",
            "description": "List of whitelisted IP addresses or domains, can be `null`",
            "example": null,
            "nullable": true
          },
          "auto_change": {
            "type": "boolean",
            "description": "Indicates whether the IP changes automatically",
            "example": false
          },
          "auto_change_time": {
            "type": "integer",
            "description": "Time interval for automatic IP change, in minutes",
            "example": 0
          },
          "last_ip_change": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of the last IP change",
            "example": "2023-12-04T17:51:40.339+00:00"
          },
          "last_reboot": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of the last server reboot",
            "example": "2023-12-04T17:51:40.339+00:00"
          },
          "traffic": {
            "type": "integer",
            "description": "Total network traffic in bytes",
            "example": 60156561622
          },
          "h_threads": {
            "type": "integer",
            "description": "Number of active HTTP threads",
            "example": 99
          },
          "s_threads": {
            "type": "integer",
            "description": "Number of active SOCKS5 threads",
            "example": 0
          },
          "city": {
            "type": "string",
            "description": "The city where the server is located",
            "example": "Austin"
          },
          "state": {
            "type": "string",
            "description": "The abbreviated state where the server is located. e.g., `TX`",
            "example": "TX"
          }
        }
      },
      "proxy-list": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean",
            "description": "Indicates whether the request was successful"
          },
          "data": {
            "type": "array",
            "description": "An array of proxy details",
            "items": {
              "$ref": "#/components/schemas/proxy-get"
            }
          }
        }
      },
      "Error": {
        "required": [
          "error",
          "message"
        ],
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean",
            "description": "Indicates the request was unsuccessful",
            "example": false
          },
          "data": {
            "type": "object",
            "description": "Additional error data",
            "properties": {
              "proxy_name": {
                "type": "string",
                "description": "Unique identifier of the proxy server",
                "example": "ILL-US-AU1-9999"
              }
            }
          },
          "message": {
            "type": "string",
            "description": "Error message",
            "example": "Proxy not found"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "apiKey",
        "description": "This API uses a Bearer authentication scheme. Please provide your API key as the bearer token. Format: 'Bearer YOUR_API_KEY'"
      }
    }
  }
}